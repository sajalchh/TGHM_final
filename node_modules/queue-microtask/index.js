/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let promise

module.exports = typeof queueMicrotask === 'function'
<<<<<<< HEAD
  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)
=======
  ? queueMicrotask.bind(globalThis)
>>>>>>> c9839472c444f6ec2829e00bb0169a884834f986
  // reuse resolved promise, and allocate it lazily
  : cb => (promise || (promise = Promise.resolve()))
    .then(cb)
    .catch(err => setTimeout(() => { throw err }, 0))
