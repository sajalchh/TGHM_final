{"ast":null,"code":"import { AccountType, AgentStatus } from \"./Enum\";\nimport { Account } from \"./Account\";\nimport { Management } from \"./Management\";\nexport class Agent extends Account {\n  constructor(name, username, password, restaurant, location = null, allottedOrder = null, ID = -1) {\n    super(name, username, new Date(), AccountType.Agent, password, ID);\n    this.__location = void 0;\n    this.__allottedorder = void 0;\n    this.IsFree = void 0;\n    this.restaurant = void 0;\n    this.deliveredCount = 0;\n    this.failedCount = 0;\n    this.__location = location;\n    this.__allottedorder = allottedOrder;\n    this.restaurant = restaurant.getID();\n    this.IsFree = AgentStatus[0];\n    let m = Management.getInstance();\n    m.agentList.set(this.getID(), this);\n    Management.agentListForStoring.push(this);\n    restaurant.AddAgent(this);\n    m.loginA.set(username, this);\n  }\n\n  addRestaurant(restaurant) {\n    this.restaurant = restaurant.getID();\n  }\n\n  Update_Location(loc) {\n    this.__location = loc;\n  }\n\n  get_Location() {\n    return this.__location;\n  }\n\n  updateAllotedOrder(order) {\n    this.__allottedorder = order;\n  }\n\n  getAllotedOrder() {\n    return this.__allottedorder;\n  }\n\n  updateOrderStatus(Status) {\n    let m = Management.getInstance();\n\n    if (this.__allottedorder) {\n      let ar = m.ApprovedRestaurants.get(this.restaurant);\n\n      if (ar) {\n        let items = ar.getOrderDetails(this.__allottedorder.orderId);\n\n        if (items) {\n          for (let i of items) this.__allottedorder.updateOrderStatus(Status, i);\n        }\n      }\n    }\n  }\n\n  updateStatus(status) {\n    let m = Management.getInstance();\n    let r = m.ApprovedRestaurants.get(this.restaurant);\n    if (r) r.updateAgentStatus(this, status);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/shash/OneDrive/Desktop/Gits/TGHM_final/src/Logic/Agent.ts"],"names":["AccountType","AgentStatus","Account","Management","Agent","constructor","name","username","password","restaurant","location","allottedOrder","ID","Date","__location","__allottedorder","IsFree","deliveredCount","failedCount","getID","m","getInstance","agentList","set","agentListForStoring","push","AddAgent","loginA","addRestaurant","Update_Location","loc","get_Location","updateAllotedOrder","order","getAllotedOrder","updateOrderStatus","Status","ar","ApprovedRestaurants","get","items","getOrderDetails","orderId","i","updateStatus","status","r","updateAgentStatus"],"mappings":"AAGA,SAAQA,WAAR,EAAqBC,WAArB,QAAuC,QAAvC;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAO,MAAMC,KAAN,SAAoBF,OAApB,CAA2B;AAO9BG,EAAAA,WAAW,CAACC,IAAD,EAAaC,QAAb,EAA6BC,QAA7B,EAA6CC,UAA7C,EAAqEC,QAAsB,GAAG,IAA9F,EAAoGC,aAAyB,GAAG,IAAhI,EAAqIC,EAAS,GAAG,CAAC,CAAlJ,EAAoJ;AAC3J,UAAMN,IAAN,EAAWC,QAAX,EAAoB,IAAIM,IAAJ,EAApB,EAA+Bb,WAAW,CAACI,KAA3C,EAAiDI,QAAjD,EAA0DI,EAA1D;AAD2J,SANvJE,UAMuJ;AAAA,SALvJC,eAKuJ;AAAA,SAJ/JC,MAI+J;AAAA,SAH/JP,UAG+J;AAAA,SAF/JQ,cAE+J,GAFrI,CAEqI;AAAA,SAD/JC,WAC+J,GADxI,CACwI;AAE3J,SAAKJ,UAAL,GAAkBJ,QAAlB;AACA,SAAKK,eAAL,GAAuBJ,aAAvB;AACA,SAAKF,UAAL,GAAkBA,UAAU,CAACU,KAAX,EAAlB;AACA,SAAKH,MAAL,GAAcf,WAAW,CAAC,CAAD,CAAzB;AACA,QAAImB,CAAC,GAAGjB,UAAU,CAACkB,WAAX,EAAR;AACAD,IAAAA,CAAC,CAACE,SAAF,CAAYC,GAAZ,CAAgB,KAAKJ,KAAL,EAAhB,EAA8B,IAA9B;AACAhB,IAAAA,UAAU,CAACqB,mBAAX,CAA+BC,IAA/B,CAAoC,IAApC;AACAhB,IAAAA,UAAU,CAACiB,QAAX,CAAoB,IAApB;AACAN,IAAAA,CAAC,CAACO,MAAF,CAASJ,GAAT,CAAahB,QAAb,EAAuB,IAAvB;AACH;;AAEDqB,EAAAA,aAAa,CAACnB,UAAD,EAAyB;AAClC,SAAKA,UAAL,GAAkBA,UAAU,CAACU,KAAX,EAAlB;AACH;;AAEDU,EAAAA,eAAe,CAACC,GAAD,EAAc;AACzB,SAAKhB,UAAL,GAAgBgB,GAAhB;AACH;;AAEDC,EAAAA,YAAY,GAAE;AACV,WAAO,KAAKjB,UAAZ;AACH;;AAEDkB,EAAAA,kBAAkB,CAACC,KAAD,EAAc;AAC5B,SAAKlB,eAAL,GAAuBkB,KAAvB;AACH;;AAEDC,EAAAA,eAAe,GAAE;AACb,WAAO,KAAKnB,eAAZ;AACH;;AAEDoB,EAAAA,iBAAiB,CAACC,MAAD,EAAiB;AAC9B,QAAIhB,CAAC,GAAGjB,UAAU,CAACkB,WAAX,EAAR;;AACA,QAAI,KAAKN,eAAT,EAA0B;AACtB,UAAIsB,EAAE,GAACjB,CAAC,CAACkB,mBAAF,CAAsBC,GAAtB,CAA0B,KAAK9B,UAA/B,CAAP;;AACA,UAAG4B,EAAH,EAAM;AACF,YAAIG,KAAK,GAAGH,EAAE,CAACI,eAAH,CAAmB,KAAK1B,eAAL,CAAqB2B,OAAxC,CAAZ;;AACA,YAAIF,KAAJ,EAAW;AACP,eAAK,IAAIG,CAAT,IAAcH,KAAd,EACI,KAAKzB,eAAL,CAAqBoB,iBAArB,CAAuCC,MAAvC,EAA+CO,CAA/C;AACP;AACJ;AACJ;AACJ;;AACDC,EAAAA,YAAY,CAACC,MAAD,EAAgB;AACxB,QAAIzB,CAAC,GAAGjB,UAAU,CAACkB,WAAX,EAAR;AACA,QAAIyB,CAAC,GAAG1B,CAAC,CAACkB,mBAAF,CAAsBC,GAAtB,CAA0B,KAAK9B,UAA/B,CAAR;AACA,QAAGqC,CAAH,EACIA,CAAC,CAACC,iBAAF,CAAoB,IAApB,EAAyBF,MAAzB;AACP;;AA1D6B","sourcesContent":["import {Location} from \"./Location\";\r\nimport {Order} from \"./Order\"\r\nimport { Restaurant } from \"./Restaurant\";\r\nimport {AccountType, AgentStatus} from \"./Enum\"\r\nimport { Account } from \"./Account\";\r\nimport { Management } from \"./Management\";\r\nexport class Agent extends Account{\r\n    private __location: Location|null;\r\n    private __allottedorder : Order|null;\r\n    IsFree : string;\r\n    restaurant : number;\r\n    deliveredCount : number = 0;\r\n    failedCount : number = 0;\r\n    constructor(name:string,username:string,password:string,restaurant: Restaurant, location:Location|null = null, allottedOrder: Order|null = null,ID:number = -1){\r\n        super(name,username,new Date(),AccountType.Agent,password,ID);\r\n        this.__location = location;\r\n        this.__allottedorder = allottedOrder;\r\n        this.restaurant = restaurant.getID();\r\n        this.IsFree = AgentStatus[0];\r\n        let m = Management.getInstance();\r\n        m.agentList.set(this.getID(), this);\r\n        Management.agentListForStoring.push(this);\r\n        restaurant.AddAgent(this);\r\n        m.loginA.set(username, this);\r\n    }\r\n\r\n    addRestaurant(restaurant : Restaurant){\r\n        this.restaurant = restaurant.getID();\r\n    }\r\n\r\n    Update_Location(loc:Location){\r\n        this.__location=loc;\r\n    }\r\n\r\n    get_Location(){\r\n        return this.__location;\r\n    }\r\n\r\n    updateAllotedOrder(order: Order){\r\n        this.__allottedorder = order;\r\n    }\r\n\r\n    getAllotedOrder(){\r\n        return this.__allottedorder;\r\n    }\r\n\r\n    updateOrderStatus(Status : number){\r\n        let m = Management.getInstance();\r\n        if (this.__allottedorder) {\r\n            let ar=m.ApprovedRestaurants.get(this.restaurant);\r\n            if(ar){\r\n                let items = ar.getOrderDetails(this.__allottedorder.orderId);\r\n                if (items) {\r\n                    for (let i of items)\r\n                        this.__allottedorder.updateOrderStatus(Status, i);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    updateStatus(status: number){\r\n        let m = Management.getInstance();\r\n        let r = m.ApprovedRestaurants.get(this.restaurant);\r\n        if(r)\r\n            r.updateAgentStatus(this,status);\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}